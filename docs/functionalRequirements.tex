%& --translate-file latin2pl
\documentclass{article}

\usepackage{polski}
\usepackage{hyperref}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\hypersetup{
colorlinks=true,
urlcolor=blue,
}
\setcounter{section}{-1}


\title{
Lekizapteki\\
\large wymagania funkcjonalne}
\author{Marcin Abramowicz \and Mateusz Danowski \and Dawid Jamka \and Tomasz Patyna}


\begin{document}
  \maketitle

  \section{Dziennik zmian}
  \begin{tabular}{|c|c|c|}
    Nr iteracji & Data & Opis zmian \\
    \hline
    1. & 23.03.2020 & Utworzenie dokumentu oraz jego pierwsza wersja. \\
    \hline
    2. & 21.04.2020 & Poprawki, uszczegółowienie wymagań.
  \end{tabular}

  \section{Opis}
  Użytkownik ma do dyspozyji aplikację WWW, która umożliwia wyszukiwanie leków identycznych do szukanego na daną jednostkę chorobową.
  Serwis udostępnia przeglądanie i wyszukiwanie tylko leków, które są w niżej opisanej postaci.

  \section{Wymagania funkcjonalne}
    \subsection{Ograniczenia przeszukiwanych danych}
    Użytkownik otrzymuje możliwość przeszukiwania leków zawierających jedynie jedna substancję czynną oraz będące w następujących postaciach:
    tabletki,
    tabletki powlekane,
    tabletki dojelitowe,
    tabletki powlekane o przedłużonym uwalnianiu,
    tabletki ulegające rozpadowi w jamie ustnej,
    tabletki o przedłużonym uwalnianiu,
    tabletki o zmodyfikowanym uwalnianiu,
    tabletki drażowane,
    tabletki do sporządzania zawiesiny lub do rozgryzania i żucia,
    tabletki do rozgryzania i żucia.

    \subsection{Opis komponentu dalej nazywanego ``Lista z polem do filtrowania''}
    Komponent umożliwia wybieranie elementu ze zbioru elementów.
    Jest on polem, na które można kliknąć.
    Po kliknięciu rozwija się bezpośrednio pod nim lista, natomiast początkowe pole umożliwia wpisywanie tekstu.
    Elementy w liście są posortowane alfabetycznie rosnąco (`a` jest przed `b`).
    Wybór elemenetu odbywa się poprzez wybranie go z listy - przewijanie jej i kliknięcie na element.
    Pole wejsciowe umożliwia filtrowanie elementów wyświetlanych w liście, są w niej wyświetlane jedynie pozycje zawierające wpisaną frazę.

    \subsection{Opis użytkowania}
      \subsubsection{Wybór jednostki chorobowej}
      Użytkownik wybiera chorobę z listy z polem do filtrowania.
      Nastepnie, zatwierdza wybór wciśnięciem guzika ``Zatwierdź chorobę''.
      Guzik znajduje się obok komponentu do wyboru choroby,
      Powoduje to pojawienie się listy z polem do filtrowania do wybierania leku.

      \subsubsection{Wybór leku}
      Użytkownik może wyszukiwać lek podobnie jak chorobę lub po numerze EAN.
      Wybór ten dokonuje przesuwanym guzikem ``Szukaj po numerze EAN'' znajdującym się na obok.

      Jeśli nie wybierze tej opcji to wybiera lek, sposród tych które są przypisywane na wybraną jednostkę chrobową.
      Używa do tego również listy z polem do filtrowania.

      Jeśli zdecyduje się na wybieranie po numerze EAN, po przełączeniu guzika znika lista z polem do filtrowania,
      a w jej miejsce pojawia się pole do wpisywania numeru EAN.

      Użytkownik wybór potwierdza nacisnięciem guzika ``szukaj'', który znajduje się obok.

      Pojawia się po tym tableka zawierające leki generyczne do podanego, czyli takie które zawierają tę samą substancję czynną w odpowiedniej dawce
      (o lekach generycznych można poczytać \href{https://pl.wikipedia.org/wiki/Lek_generyczny}{tutaj}).
      Wyświetlone są leki, które również są refundowane na podaną jednostkę chorobową.

      Pozycje są posortowane po dalej zdefiniowanej ``opłacalności''.
      Leki o takiej samej wartości``opłacalności' są wyświetlane posortowane alfabetycznie rosnąco.
      Są one wyświetlane w tabelce, a użytkownik może je przewijać.
      Każda pozycja zawiera nazwę leku, substancję czynną i cenę detaliczną zdefiniowaną w rozporządzeniu.
      Po kliknięciu na wiersz w tabeli, wysuwa się pod nim panel z inforamcją dotyczącą numeru EAN tego leku, dawką oraz postacią.
      Pokazywane są również szczegóły dotyczące ceny oraz poziomu odpłatności, tj.
      `Urzędowa cena zbytu',
      `Cena hurtowa brutto',
      `Cena detaliczna',
      `Wysokość limitu finansowania',
      `Poziom odpłatności' i
      `Wysokość dopłaty świadczeniobiorcy'.

      Jeżeli jednak użytkownik wyszukiwał po numerze EAN i podany numer jeat nieprawidłowy, zostanie wyświetlona informacja z napisem  ``Nieprawidłowy numer EAN''.
      Natomiast, jeżeli lek o danym numerze EAN istnieje, ale nie jest on przypisywany na wybraną jednostkę chorobową,
      wyświetli się informacja z napisem  ``Lek o podanym numerze EAN nie jest przypisywany na wybraną jednostkę chorobową''.

      \subsubsection{Definicja ``opłacalności''}
      Definiujemy wartość tą dla leków jedynie w postaciach podanych w sekcji 2.3.1.
      Definiujemy jaką jako współczynnik ceny detalicznej do 1 mg substancji czynnej w tabletce,
      czyli $CENA / (LICZBA-TABLETEK-W-OPAKOWANIU * ILOSC-SUBSTANCJI-CZYNNEJ-W-MG)$.
      Na przykład, opakowanie leku ``LekABC'' zawiera 69 tabletek, w każdej tabletce są 42 mg substancji czynnej i kosztuje 12,37,
      wtedy współczynnik jest równy $\frac{12,37}{69 * 42} \approx 0,0042$.
      Z kolei w opakowaniu ``LekXYZ'' są 42 tabletki rownież po 42 mg substancji czynnej i można go nabyć za 17,23,
      więc współczynnik to $\frac{17,23}{42 * 42} \approx 0.0097$.
      Zakładając, że są identyczne, w wyniku wyszukiwania ``LekABC'' wyświetliłby się nad ``LekXYZ'', gdyż ma mniejszy współczynnik,
      co jest równoważne z mniejszą ceną za 1 mg substancji czynnej na opakowanie.

  \section{Wymagania niefunkcjonalne}
  Frontend pobiera z backendu całe listy z chorobami oraz lekami i przechowuje je lokalnie.
  Wydajność zostaje zwiększona, gdyż liczba zapytań do backendu, które są wolniejsze niż odczyty lokalne, jest zminimalizowana.
  Umożliwi to przeglądanie i filtrowanie list szybko, bez konieczności odpytywania się zewnętrznego serwisu.

\end{document}
